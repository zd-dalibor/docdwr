<!DOCTYPE html>
<html>
<head>
  <title>engine.js</title>
  <meta name='alias' content='/dwr/browser/engine'>
  <link rel="stylesheet" type="text/css" href="../../../media/styles.css">
  <link rel='shortcut icon' type='image/x-icon' href='../../../favicon.ico'>
  <script type='text/javascript' src='../../../media/dojo.js'> </script>
  <script type='text/javascript' src='../../../media/menu.js'> </script>
</head>
<body>
<div id='header'><a href='../../../index.html'>Direct Web Remoting</a></div>
<div id=pagelinks>
<div class='navlinks'>[ 
<a href='../../../index.html' title='Easy Ajax for Java'>DWR</a> | 
 ]
<form method='GET' action='https://www.google.com/search' id='search-form'>
<span id='search'>
<input class='form-text' type='text' id='search-box' name='as_q' size='20' maxlength='255'>
<input type='hidden' name='as_sitesearch' value='directwebremoting.org'/>
<input class='form-submit' type='submit' value='Google'/>
</span>
</form>
</div>
<div id='breadcrumbs'><a href='../../../index.html'>DWR - Easy Ajax for JAVA</a> &#x00BB; <a href='../../../documentation/index.html'>Documentation</a> &#x00BB; <a href='../../../documentation/browser/index.html'>Client Side</a> &#x00BB; <a href='index.html' class='currentLink'>engine.js</a></div></div>
<div id='content'>

<h1>engine.js Functions</h1>

<p><code>engine.js</code> is vital to DWR since it is used to marshal calls from the dynamically generated  JavaScript interfaces to the server. All  pages where DWR will be used  require the inclusion of engine.js:<pre>
&lt;script type='text/javascript'
    src='/<i>[YOUR-WEB-APP]</i>/dwr/engine.js'&gt;
&lt;/script&gt;
</pre></p>

<p>All engine.js functions have the <code>dwr.engine</code> prefix.</p>

<h2>Using the options</h2>

<p>These options may be set globally using a dwr.engine.setX() function. For example:</p>

<pre>dwr.engine.setTimeout(1000);</pre>

<p>Or on a per call basis:</p>

<pre>
Remote.singleMethod(params, {
  callback:function(data) { ... },
  timeout:2000
});
</pre>

<p>Remote calls can be <a href="batch.html">batched together</a> to reduce latency. Options can also be set on the <code>endBatch()</code> method:</p>

<pre>
dwr.engine.beginBatch();
Remote.methodInBatch1(params, callback1);
Remote.methodInBatch2(params, callback2);
dwr.engine.endBatch({
  timeout:3000
});
</pre>

<p>It is possible to mix these styles, in which case call or batch level settings override global settings (as you would expect). If you set an option several times in a batch, the last setting will be used. So if the <code>Remote.singleMethod()</code> example discussed previously was included in the batch example above, a timeout of 3000ms would be used for the batch.</p>

Two of the options, callback and exceptionHandler, are always specific to a call and not to a batch.

<p>Two of the options, preHook and postHook, are additive, that is you can have multiple hooks per call. The global preHook is called before the batch and call preHooks. The global postHook is called after the call and batch postHooks.</p>

<p>If all of this sounds confusing then don't worry. DWR is designed to do what you expect, so it should not be complex.</p>

<h2>Option index</h2>

<p>The following options are available.</p>

<table class="documentation">
	<tr>
		<th>Option</th>
		<th>Global</th>
		<th>Batch</th>
		<th>Call</th>
		<th>Summary</th>
	</tr>

	<tr>
		<td><a href="options.html">async</a></td>
		<td>1.1</td>
		<td>1.1</td>
		<td>1.1</td>
		<td>Set to <code>false</code> for asynchronous behaviour (highly discouraged).</td>
	</tr>

	<tr>
		<td>headers</td>
		<td>2.0</td>
		<td>2.0</td>
		<td>2.0</td>
		<td>Extra headers to add to XHR calls.</td>
	</tr>

	<tr>
		<td>attributes</td>
		<td>3.0</td>
		<td>-</td>
		<td>-</td>
		<td>Meta-data that is made available through <code>request.getAttribute(attrName).</code></td>
	</tr>

	<tr>
		<td><a href="errors.html">timeout</a></td>
		<td>1.0</td>
		<td>1.1</td>
		<td>1.1</td>
		<td>Cancel request after X ms.</td>
	</tr>

	<tr>
		<th colspan="5">Handlers</th>
	</tr>

	<tr>
		<td><a href="../errors.html">errorHandler</a></td>
		<td>1.0</td>
		<td>1.1</td>
		<td>1.1</td>
		<td>Action when something is broken.</td>
	</tr>

	<tr>
		<td><a href="../errors.html">warningHandler</a></td>
		<td>1.0</td>
		<td>2.0</td>
		<td>2.0</td>
		<td>Action when something breaks which can be triggered by
		browser bugs, so by default this is set to null (turned off).</td>
	</tr>

	<tr>
		<td><a href="../errors.html">textHtmlHandler</a></td>
		<td>2.0</td>
		<td>2.0</td>
		<td>2.0</td>
		<td>Action when an unexpected text/html page is received (usually
		indicates session timeout).</td>
	</tr>
	<tr>
		<th colspan="5">Call Handlers <span class="note">(Registered
		for individual calls not all calls in a batch).</span></th>
	</tr>

	<tr>
		<td><a href="../../../introduction/scripting-dwr.html">callback</a></td>
		<td>-</td>
		<td>-</td>
		<td>1.0</td>
		<td>Executed on successful call completion with a single
		parameter; the returned data.</td>
	</tr>

	<tr>
		<td><a href="../../../introduction/scripting-dwr.html">callbackHandler</a></td>
		<td>-</td>
		<td>-</td>
		<td>3.0</td>
		<td>Synonymous with callback to match exceptionHandler.</td>
	</tr>

	<tr>
		<td><a href="../errors.html">exceptionHandler</a></td>
		<td>-</td>
		<td>-</td>
		<td>2.0</td>
		<td>Executed when a remote call fails either due to a server
		exception or a data marshalling problem.</td>
	</tr>

	<tr>
		<td><a href="../extra-data.html">arg</a></td>
		<td>-</td>
		<td>-</td>
		<td>3.0</td>
		<td>A default argument to pass to the callbackHandler and
		exceptionHandler.</td>
	</tr>

	<tr>
		<td><a href="../extra-data.html">callbackArg</a></td>
		<td>-</td>
		<td>-</td>
		<td>3.0</td>
		<td>An argument to pass to the callbackHandler. If specified
		overrides arg.</td>
	</tr>

	<tr>
		<td><a href="../extra-data.html">exceptionArg</a></td>
		<td>-</td>
		<td>-</td>
		<td>3.0</td>
		<td>An argument to pass to the exceptionHandler. If specified
		overrides arg.</td>
	</tr>

	<tr>
		<td><a href="../extra-data.html#scope">scope</a></td>
		<td>-</td>
		<td>-</td>
		<td>3.0</td>
		<td>The scope in which the callbackHandler and exceptionHandler
		will be executed. Default is window.</td>
	</tr>

	<tr>
		<td><a href="../extra-data.html#scope">callbackScope</a></td>
		<td>-</td>
		<td>-</td>
		<td>3.0</td>
		<td>The scope in which the callbackHandler will be executed. If
		specified overrides scope.</td>
	</tr>

	<tr>
		<td><a href="../extra-data.html#scope">exceptionScope</a></td>
		<td>-</td>
		<td>-</td>
		<td>3.0</td>
		<td>The scope in which the exceptionHandler will be executed. If
		specified overrides scope.</td>
	</tr>


	<tr>
		<th colspan="5">Hooks <span class="note">(Multiple hooks
		can be registered per batch).</span></th>
	</tr>

	<tr>
		<td><a href="hooks.html">preHook</a></td>
		<td>1.0</td>
		<td>1.1</td>
		<td>1.1</td>
		<td>Function called just before the remote call.</td>
	</tr>

	<tr>
		<td><a href="hooks.html">postHook</a></td>
		<td>1.0</td>
		<td>1.1</td>
		<td>1.1</td>
		<td>Function called just after the remote call.</td>
	</tr>

	<tr>
		<th colspan="5">Global Options <span class="note">(Not
		available at a call or batch level).</span></th>
	</tr>

	<tr>
		<td><a href="ordering.html">ordered</a></td>
		<td>1.0</td>
		<td>-</td>
		<td>-</td>
		<td>true if DWR should provide ordering guarantees.</td>
	</tr>

	<tr>
		<td>activeReverseAjax</td>
		<td>2.0</td>
		<td>-</td>
		<td>-</td>
		<td>Should we be looking for inbound calls?</td>
	</tr>
	
	<tr>
		<td>notifyServerOnPageUnload</td>
		<td>3.0</td>
		<td>-</td>
		<td>-</td>
		<td>Should we notify the server that the page has been unloaded? Please see our <a href="../../reverse-ajax/hints-and-tips.html">reverse AJAX hints and tips</a> for more information.</td>
	</tr>

	<tr>
		<td><a name="maxRetries"></a>maxRetries</td>
		<td>3.0 RC2</td>
		<td>-</td>
		<td>-</td>
		<td>  Defaults to -1, unlimited.<br><br>Please see our <a href="../../reverse-ajax/retry.html">Retry handling</a> documentation.</td>
	</tr>

	<tr>
		<td><a name="retryIntervals"></a>retryIntervals[]</td>
		<td>3.0 RC2</td>
		<td>-</td>
		<td>-</td>
		<td>Defaults to [1, 1, 3].<br><br>Please see our <a href="../../reverse-ajax/retry.html">Retry handling</a> documentation.</td>
	</tr>
    <tr>
		<td><a name="pollStatusHandler"></a>pollStatusHandler</td>
		<td>3.0 RC2</td>
		<td>-</td>
		<td>-</td>
		<td>Defaults to the errorHandler.  This default should generally be overridden for active Reverse Ajax users.  <br><br>Please see our <a href="../../reverse-ajax/retry.html">Retry handling</a> documentation.</td>
	</tr>
</table>

<h2>Guaranteed Responses</h2>

<p>DWR aims to be able to tell you exactly what happened to all calls. Given the existence of browser bugs this can be tricky in places.</p>

<p>If you set a callback, exceptionHandler, errorHandler, warningHandler and textHtmlHandler then DWR should always give you a response for each request.</p>

</div>
<div class='menu'>
<ul id='nav'>
<li class='noChildren'><a href='../../../index.html'>Home</a></li>
<li class='hasChildren'><a href='../../../introduction/index.html'>Overview&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../introduction/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../introduction/getting-started.html'>Quick Start</a></li>
<li class='noChildren'><a href='../../../introduction/remoting_options.html'>Remoting Options</a></li>
<li class='noChildren'><a href='../../../introduction/scripting-dwr.html'>Scripting DWR</a></li>
<li class='noChildren'><a href='../../../introduction/tutorials.html'>Official Examples</a></li>
<li class='noChildren'><a href='../../../introduction/elsewhere.html'>Other Examples</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../downloads/index.html'>Download&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../downloads/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../downloads/ciBuilds.html'>CI Builds</a></li>
<li class='hasChildren'><a href='../../../downloads/changelog/index.html'>Change Log&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../downloads/changelog/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../downloads/changelog/dwr30.html'>New in v3.0</a></li>
<li class='noChildren'><a href='../../../downloads/changelog/dwr20.html'>New in v2.0</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../downloads/upgrading/index.html'>Upgrading DWR&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../downloads/upgrading/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../downloads/upgrading/dwr30.html'>Upgrading to Version 3.0</a></li>
<li class='noChildren'><a href='../../../downloads/upgrading/dwr20.html'>Upgrading to Version 2.0</a></li>
</ul>
</li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/index.html'>Documentation&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/browser/index.html'>Client Side&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/browser/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/browser/engine/index.html'>engine.js&nbsp;...</a><ul>
<li class='noChildren'><a href='index.html' class='currentLink'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/batch.html'>Call Batching</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/ordering.html'>Call Ordering</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/hooks.html'>Remoting Hooks</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/options.html'>Remoting Options</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/errors.html'>Timeouts</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/browser/util/index.html'>util.js&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/browser/util/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/lists.html'>List Manipulation</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/$.html'>$()</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/tables.html'>Table Manipulation</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/addOptions.html'>addOptions</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/addRows.html'>addRows</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/byId.html'>byId()</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/escapeHtml.html'>escapeHtml</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/getText.html'>getText</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/getValue.html'>getValue</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/getValues.html'>getValues</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/onReturn.html'>onReturn</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/removeAllOptions.html'>removeAllOptions</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/removeAllRows.html'>removeAllRows</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/selectRange.html'>selectRange</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/setValue.html'>setValue</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/setValues.html'>setValues</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/toDescriptiveString.html'>toDescriptiveString</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/useLoadingMessage.html'>useLoadingMessage</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../documentation/browser/xdomain.html'>Cross-domain Support</a></li>
<li class='noChildren'><a href='../../../documentation/browser/errors.html'>Error Handling</a></li>
<li class='noChildren'><a href='../../../documentation/browser/extra-data.html'>Callbacks and Scoping</a></li>
<li class='noChildren'><a href='../../../documentation/browser/support.html'>Browser Support</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/server/index.html'>Server Side&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/index.html'>Configuration&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/servlet/index.html'>WEB-INF Reference&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/servlet/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/servlet/multiconfig.html'>Multiple dwr.xml files</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/servlet/plugin.html'>Plug-ins</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/servlet/test.html'>Test Mode</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/dwrxml/index.html'>dwr.xml&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/index.html'>Converters&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/array.html'>Arrays</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/bean.html'>Beans / Objects</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/collection.html'>Collections</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/dom.html'>DOM Objects</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/enum.html'>Enum</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/file.html'>Images and Binary Files</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/index.html'>Creators&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/new.html'>'New' Creator</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/scripted.html'>'Scripted' Creator</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/static.html'>'Static' Creator</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/filters.html'>Filters</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/signatures.html'>Signatures</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../documentation/server/configuration/annotations.html'>Annotations</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/fluent.html'>Fluent Configuration</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/server/integration/index.html'>Integrating with&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/integration/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/spring.html'>Spring</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/hibernate.html'>Hibernate</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/jsf.html'>JSF</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/guice.html'>Guice</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/struts.html'>Struts</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/jaxer.html'>Aptana Jaxer</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/pageflow.html'>Pageflow / Beehive</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../documentation/server/environment.html'>Supported Environments</a></li>
<li class='noChildren'><a href='../../../documentation/server/logging.html'>Logging</a></li>
<li class='noChildren'><a href='../../../documentation/server/javaapi.html'>Accessing Servlet Objects</a></li>
<li class='noChildren'><a href='../../../documentation/server/generic.html'>Reading from other URLs</a></li>
<li class='noChildren'><a href='../../../documentation/server/script_compression.html'>Script Compression</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/reverse-ajax/index.html'>Reverse Ajax&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/getting-started.html'>Getting Started</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/configuration.html'>Configuring</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/retry.html'>Error/Retry Logic</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/hints-and-tips.html'>Hints and Tips</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/load-monitors.html'>Load Monitors</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/threads.html'>Non-Web Threads</a></li>
</ul>
</li>
</ul>
</li>
<li class='hasChildren'><a href='../../../security/index.html'>Security&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../security/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../security/script-tag-protection.html'>JavaScript Security</a></li>
<li class='noChildren'><a href='../../../security/allowGetForSafariButMakeForgeryEasier.html'>Safari, GET and CSRF</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../support/index.html'>Support&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../support/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../support/common_problems.html'>Common Problems</a></li>
<li class='noChildren'><a href='../../../support/faqs.html'>Common Questions</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../development/index.html'>Development&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../development/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../development/contributor/index.html'>Contributors&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../development/contributor/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../development/contributor/contract.html'>The Maintainer Contract</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../development/ccla.html'>CLA for Corporations</a></li>
<li class='noChildren'><a href='../../../development/icla.html'>CLA for Individuals</a></li>
</ul>
</li>
</ul></div>
</body>
</html>

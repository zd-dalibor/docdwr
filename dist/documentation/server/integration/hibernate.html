<!DOCTYPE html>
<html>
<head>
  <title>Hibernate Integration</title>
  <meta name='weight' content='3'>
  <meta name='alias' content='/dwr/server/hibernate'>
  <meta name='navTitle' content='Hibernate'>
  <link rel="stylesheet" type="text/css" href="../../../media/styles.css">
  <link rel='shortcut icon' type='image/x-icon' href='../../../favicon.ico'>
  <script type='text/javascript' src='../../../media/dojo.js'> </script>
  <script type='text/javascript' src='../../../media/menu.js'> </script>
</head>
<body>
<div id='header'><a href='../../../index.html'>Direct Web Remoting</a></div>
<div id=pagelinks>
<div class='navlinks'>[ 
<a href='../../../index.html' title='Easy Ajax for Java'>DWR</a> | 
 ]
<form method='GET' action='https://www.google.com/search' id='search-form'>
<span id='search'>
<input class='form-text' type='text' id='search-box' name='as_q' size='20' maxlength='255'>
<input type='hidden' name='as_sitesearch' value='directwebremoting.org'/>
<input class='form-submit' type='submit' value='Google'/>
</span>
</form>
</div>
<div id='breadcrumbs'><a href='../../../index.html'>DWR - Easy Ajax for JAVA</a> &#x00BB; <a href='../../../documentation/index.html'>Documentation</a> &#x00BB; <a href='../../../documentation/server/index.html'>Server Side</a> &#x00BB; <a href='../../../documentation/server/integration/index.html'>Integrating with</a> &#x00BB; <a href='hibernate.html' class='currentLink'>Hibernate</a></div></div>
<div id='content'>

<h1>DWR and Hibernate</h1>

<h2>Check-list to get DWR working with Hibernate</h2>

<ol>

<li>Make sure you are happy with everything on the <a href="../../../introduction/getting-started.html">getting started</a> page.</li>

<li>Make sure your Hibernate configuration works properly outside of DWR.</li>

<li>If you are using Spring with Hibernate then you might want to check out the <a href="spring.html">Spring integration</a> first.</li>

<li>Configure DWR to work with Hibernate. (See below).</li>

<li>Look at the demo pages: <code>http://localhost:8080/[YOUR-WEBAPP]/dwr</code> to check that your spring beans appear.</li>

</ol>

<!--break-->

<h2>The HibernateBeanConverter</h2>

<p>This converter is very similar to the standard <a href="../configuration/dwrxml/converters/bean.html">BeanConverter</a> except that we can decide what to do with lazy loaded properties.</p>

<p>There are 2 Hibernate converters called "<code>hibernate2</code>" and (predictably) "<code>hibernate3</code>".

<p>Using HibernateBeanConverter may be risky for a number of reasons:</p>

<ul>

<li><b>Architecture</b>: HibernateBeanConverter does not follow an MVC pattern which would keep objects from a data layer separate from the view layer.  This risk can also be mitigated using a separate set of beans as above.</li>

<li><b>Performance</b>: DWR attempts to marshall all reachable properties in a similar way to Serialization (except that DWR reads JavaBean properties only). So it is easy to create a mapping that ends up serializing your entire database over HTTP. Usually this is not what you want. This risk can be mitigated using the exclusion feature of BeanConverter (from which HibernateBeanConverter is derived):<br/> <code>&lt;param name="exclude" value="propertyToExclude1, propertyToExclude2"/&gt;</code></li>

</ul>

<p>The HibernateBeanConverter tries to avoid reading from un-initialized properties. (If you just want something that blindly reads everything then just use a plain BeanConverter).</p>

<p>Hibernate 3 is considerably better at helping in this respect, and indeed under Hibernate 2 you may well discover that you are getting many empty beans as a result.</p>

<h2>Session Management</h2>

<p>If you are using Hibernate object the you need to understand that each DWR request is a new servlet request so you need to ensure that a Hibernate Session is open for you to work with.</p>

<p>If you are using Spring then an easy option is to use the Spring <a href="http://static.springframework.org/spring/docs/1.2.x/api/org/springframework/orm/hibernate3/support/OpenSessionInViewFilter.html">OpenSessionInViewFilter</a> which will ensure that a Hibernate Session is open. Similar solutions are available in many frameworks.</p>

</div>
<div class='menu'>
<ul id='nav'>
<li class='noChildren'><a href='../../../index.html'>Home</a></li>
<li class='hasChildren'><a href='../../../introduction/index.html'>Overview&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../introduction/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../introduction/getting-started.html'>Quick Start</a></li>
<li class='noChildren'><a href='../../../introduction/remoting_options.html'>Remoting Options</a></li>
<li class='noChildren'><a href='../../../introduction/scripting-dwr.html'>Scripting DWR</a></li>
<li class='noChildren'><a href='../../../introduction/tutorials.html'>Official Examples</a></li>
<li class='noChildren'><a href='../../../introduction/elsewhere.html'>Other Examples</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../downloads/index.html'>Download&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../downloads/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../downloads/ciBuilds.html'>CI Builds</a></li>
<li class='hasChildren'><a href='../../../downloads/changelog/index.html'>Change Log&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../downloads/changelog/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../downloads/changelog/dwr30.html'>New in v3.0</a></li>
<li class='noChildren'><a href='../../../downloads/changelog/dwr20.html'>New in v2.0</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../downloads/upgrading/index.html'>Upgrading DWR&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../downloads/upgrading/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../downloads/upgrading/dwr30.html'>Upgrading to Version 3.0</a></li>
<li class='noChildren'><a href='../../../downloads/upgrading/dwr20.html'>Upgrading to Version 2.0</a></li>
</ul>
</li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/index.html'>Documentation&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/browser/index.html'>Client Side&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/browser/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/browser/engine/index.html'>engine.js&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/browser/engine/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/batch.html'>Call Batching</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/ordering.html'>Call Ordering</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/hooks.html'>Remoting Hooks</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/options.html'>Remoting Options</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/errors.html'>Timeouts</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/browser/util/index.html'>util.js&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/browser/util/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/lists.html'>List Manipulation</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/$.html'>$()</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/tables.html'>Table Manipulation</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/addOptions.html'>addOptions</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/addRows.html'>addRows</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/byId.html'>byId()</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/escapeHtml.html'>escapeHtml</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/getText.html'>getText</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/getValue.html'>getValue</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/getValues.html'>getValues</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/onReturn.html'>onReturn</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/removeAllOptions.html'>removeAllOptions</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/removeAllRows.html'>removeAllRows</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/selectRange.html'>selectRange</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/setValue.html'>setValue</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/setValues.html'>setValues</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/toDescriptiveString.html'>toDescriptiveString</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/useLoadingMessage.html'>useLoadingMessage</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../documentation/browser/xdomain.html'>Cross-domain Support</a></li>
<li class='noChildren'><a href='../../../documentation/browser/errors.html'>Error Handling</a></li>
<li class='noChildren'><a href='../../../documentation/browser/extra-data.html'>Callbacks and Scoping</a></li>
<li class='noChildren'><a href='../../../documentation/browser/support.html'>Browser Support</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/server/index.html'>Server Side&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/index.html'>Configuration&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/servlet/index.html'>WEB-INF Reference&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/servlet/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/servlet/multiconfig.html'>Multiple dwr.xml files</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/servlet/plugin.html'>Plug-ins</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/servlet/test.html'>Test Mode</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/dwrxml/index.html'>dwr.xml&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/index.html'>Converters&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/array.html'>Arrays</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/bean.html'>Beans / Objects</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/collection.html'>Collections</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/dom.html'>DOM Objects</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/enum.html'>Enum</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/file.html'>Images and Binary Files</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/index.html'>Creators&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/new.html'>'New' Creator</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/scripted.html'>'Scripted' Creator</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/static.html'>'Static' Creator</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/filters.html'>Filters</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/signatures.html'>Signatures</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../documentation/server/configuration/annotations.html'>Annotations</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/fluent.html'>Fluent Configuration</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/server/integration/index.html'>Integrating with&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/integration/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/spring.html'>Spring</a></li>
<li class='noChildren'><a href='hibernate.html' class='currentLink'>Hibernate</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/jsf.html'>JSF</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/guice.html'>Guice</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/struts.html'>Struts</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/jaxer.html'>Aptana Jaxer</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/pageflow.html'>Pageflow / Beehive</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../documentation/server/environment.html'>Supported Environments</a></li>
<li class='noChildren'><a href='../../../documentation/server/logging.html'>Logging</a></li>
<li class='noChildren'><a href='../../../documentation/server/javaapi.html'>Accessing Servlet Objects</a></li>
<li class='noChildren'><a href='../../../documentation/server/generic.html'>Reading from other URLs</a></li>
<li class='noChildren'><a href='../../../documentation/server/script_compression.html'>Script Compression</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/reverse-ajax/index.html'>Reverse Ajax&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/getting-started.html'>Getting Started</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/configuration.html'>Configuring</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/retry.html'>Error/Retry Logic</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/hints-and-tips.html'>Hints and Tips</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/load-monitors.html'>Load Monitors</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/threads.html'>Non-Web Threads</a></li>
</ul>
</li>
</ul>
</li>
<li class='hasChildren'><a href='../../../security/index.html'>Security&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../security/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../security/script-tag-protection.html'>JavaScript Security</a></li>
<li class='noChildren'><a href='../../../security/allowGetForSafariButMakeForgeryEasier.html'>Safari, GET and CSRF</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../support/index.html'>Support&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../support/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../support/common_problems.html'>Common Problems</a></li>
<li class='noChildren'><a href='../../../support/faqs.html'>Common Questions</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../development/index.html'>Development&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../development/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../development/contributor/index.html'>Contributors&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../development/contributor/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../development/contributor/contract.html'>The Maintainer Contract</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../development/ccla.html'>CLA for Corporations</a></li>
<li class='noChildren'><a href='../../../development/icla.html'>CLA for Individuals</a></li>
</ul>
</li>
</ul></div>
</body>
</html>

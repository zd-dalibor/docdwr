<!DOCTYPE html>
<html>
<head>
  <title>'Scripted' Creator</title>
  <meta name='alias' content='/dwr/server/dwrxml/creators/scripted.html'>
  <link rel="stylesheet" type="text/css" href="../../../../../media/styles.css">
  <script type='text/javascript' src='../../../../../media/dojo.js'> </script>
  <script type='text/javascript' src='../../../../../media/menu.js'> </script>
</head>
<body>
<div id='header'><a href='http://directwebremoting.org/dwr/'>Direct Web Remoting</a></div>
<div id=pagelinks>
<div class='navlinks'>[ 
<a href='/dwr/' title='Easy Ajax for Java'>DWR</a> | 
 ]
<form method='GET' action='http://www.google.com/search' id='search-form'>
<span id='search'>
<input class='form-text' type='text' id='search-box' name='as_q' size='20' maxlength='255'>
<input type='hidden' name='as_sitesearch' value='directwebremoting.org'/>
<input class='form-submit' type='submit' value='Google'/>
</span>
</form>
</div>
<div id='breadcrumbs'><a href='../../../../../index.html'>DWR - Easy Ajax for JAVA</a> &#x00BB; <a href='../../../../../documentation/index.html'>Documentation</a> &#x00BB; <a href='../../../../../documentation/server/index.html'>Server Side</a> &#x00BB; <a href='../../../../../documentation/server/configuration/index.html'>Configuration</a> &#x00BB; <a href='../../../../../documentation/server/configuration/dwrxml/index.html'>dwr.xml</a> &#x00BB; <a href='../../../../../documentation/server/configuration/dwrxml/creators/index.html'>Creators</a> &#x00BB; <a href='scripted.html' class='currentLink'>'Scripted' Creator</a></div></div>
<div id='content'>

<h1>The 'scripted' Creator</h1>

<p>The scripted creator is declared by default by DWR as follows: <code>&lt;creator id="script" class="org.directwebremoting.create.ScriptedCreator"/&gt;</code></p>

<p>This creator uses <a href="http://commons.apache.org/bsf/">BSF</a> to execute scripts that return some bean, for example:</p>

<!--break-->

<pre>
&lt;allow&gt;
  ...
  &lt;create creator="script" javascript="EmailValidator"&gt;
    &lt;param name="class" value="org.apache.commons.validator.EmailValidator"/&gt;
    &lt;param name="language" value="beanshell"/&gt;
    &lt;param name="script"&gt;
      import org.apache.commons.validator.EmailValidator;
      return EmailValidator.getInstance();
    &lt;/param&gt;
  &lt;/create&gt;
  ...
&lt;/allow&gt;
</pre>

<hr/>

<p>The script creator accepts the following parameters:</p>

<table class="rowed">
<tr>

<th>Parameter</th>
<th>DWR&nbsp;Version</th>
<th>Description</th>

</tr>
<tr>

<td>language</td>
<td>1.0</td>
<td>The language that we are scripting in. This string is passed to BSF. For example 'beanshell'.  Required when specifying an inline script.  When scriptPath is specified BSF can infer the language from the script file.</td>

</tr>

<tr>

<td>class</td>
<td>1.0</td>
<td>The type of object that is created.  This is required for security reasons if useDynamicClasses is false.  If useDynamicClasses is true this should not be set as it will result in exceptions.</td>

</tr>

<tr>

<td>script</td>
<td>1.0</td>
<td>The script to execute which will return a Java Object to remote. (required unless scriptPath is used)</td>

</tr>

<tr>

<td>useDynamicClasses</td>
<td>1.0</td>
<td>Are we using dynamic classes (i.e. classes generated by BeanShell or similar)?  In this case we want to reuse class definitions.</td>

</tr>
<tr>

<td>scriptPath</td>
<td>1.1</td>
<td>The path to a script stored in a file either from the classpath or the ServletContext. (required unless script is used).</td>

</tr>
<tr>

<td>reloadable</td>
<td>1.1</td>
<td>Should the ScriptedCreator check for changes to scripts loaded using scriptPath? (optional, defaults to true)</td>

</tr>

</table>

<h3>Issues to be aware of</h3>

<p>In order to use this creator, you will need to place into your WEB-INF/lib folder: a <a href="http://jakarta.apache.org/site/downloads/downloads_bsf.html">download of the BSF JAR file</a> along with a jar file for <a href="http://jakarta.apache.org/bsf/projects.html">whatever scripting language you wish to use</a>.</p>

<p>If there is a class that the script creates where the scope is session (or application), and you change the script,  The class in the session is no longer going to match the class generated by the script and errors will occur. The container doesn't have to be restarted but the user has to log out (or clear the session somehow) and log back in.</p>

<p>Also when the class param is not null and is used to create a new instance, it simply calls the class.newInstance() method.  This is ok unless the script is creating a new class with certain parameters or calling certain functions to configure the class.  Unfortunately, re-evaluating the script each time causes the issue above to happen every request.</p>

</div>
<div class='menu'>
<ul id='nav'>
<li class='noChildren'><a href='../../../../../index.html'>Home</a></li>
<li class='hasChildren'><a href='../../../../../introduction/index.html'>Overview&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../introduction/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../introduction/getting-started.html'>Quick Start</a></li>
<li class='noChildren'><a href='../../../../../introduction/remoting_options.html'>Remoting Options</a></li>
<li class='noChildren'><a href='../../../../../introduction/scripting-dwr.html'>Scripting DWR</a></li>
<li class='noChildren'><a href='../../../../../introduction/tutorials.html'>Official Examples</a></li>
<li class='noChildren'><a href='../../../../../introduction/elsewhere.html'>Other Examples</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../../../downloads/index.html'>Download&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../downloads/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../downloads/ciBuilds.html'>CI Builds</a></li>
<li class='hasChildren'><a href='../../../../../downloads/changelog/index.html'>Change Log&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../downloads/changelog/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../downloads/changelog/dwr30.html'>New in v3.0</a></li>
<li class='noChildren'><a href='../../../../../downloads/changelog/dwr20.html'>New in v2.0</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../../../downloads/upgrading/index.html'>Upgrading DWR&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../downloads/upgrading/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../downloads/upgrading/dwr30.html'>Upgrading to Version 3.0</a></li>
<li class='noChildren'><a href='../../../../../downloads/upgrading/dwr20.html'>Upgrading to Version 2.0</a></li>
</ul>
</li>
</ul>
</li>
<li class='hasChildren'><a href='../../../../../documentation/index.html'>Documentation&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../documentation/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../../../documentation/browser/index.html'>Client Side&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../documentation/browser/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../../../documentation/browser/engine/index.html'>engine.js&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../documentation/browser/engine/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/engine/batch.html'>Call Batching</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/engine/ordering.html'>Call Ordering</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/engine/hooks.html'>Remoting Hooks</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/engine/options.html'>Remoting Options</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/engine/errors.html'>Timeouts</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../../../documentation/browser/util/index.html'>util.js&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../documentation/browser/util/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/lists.html'>List Manipulation</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/$.html'>$()</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/tables.html'>Table Manipulation</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/addOptions.html'>addOptions</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/addRows.html'>addRows</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/byId.html'>byId()</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/escapeHtml.html'>escapeHtml</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/getText.html'>getText</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/getValue.html'>getValue</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/getValues.html'>getValues</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/onReturn.html'>onReturn</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/removeAllOptions.html'>removeAllOptions</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/removeAllRows.html'>removeAllRows</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/selectRange.html'>selectRange</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/setValue.html'>setValue</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/setValues.html'>setValues</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/toDescriptiveString.html'>toDescriptiveString</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/util/useLoadingMessage.html'>useLoadingMessage</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../../../documentation/browser/xdomain.html'>Cross-domain Support</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/errors.html'>Error Handling</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/extra-data.html'>Callbacks and Scoping</a></li>
<li class='noChildren'><a href='../../../../../documentation/browser/support.html'>Browser Support</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../../../documentation/server/index.html'>Server Side&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../documentation/server/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../../../documentation/server/configuration/index.html'>Configuration&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../../../documentation/server/configuration/servlet/index.html'>WEB-INF Reference&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/servlet/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/servlet/multiconfig.html'>Multiple dwr.xml files</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/servlet/plugin.html'>Plug-ins</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/servlet/test.html'>Test Mode</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../../../documentation/server/configuration/dwrxml/index.html'>dwr.xml&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../../../documentation/server/configuration/dwrxml/converters/index.html'>Converters&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/converters/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/converters/array.html'>Arrays</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/converters/bean.html'>Beans / Objects</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/converters/collection.html'>Collections</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/converters/dom.html'>DOM Objects</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/converters/enum.html'>Enum</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/converters/file.html'>Images and Binary Files</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../../../documentation/server/configuration/dwrxml/creators/index.html'>Creators&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/creators/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/creators/new.html'>'New' Creator</a></li>
<li class='noChildren'><a href='scripted.html' class='currentLink'>'Scripted' Creator</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/creators/static.html'>'Static' Creator</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/filters.html'>Filters</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/dwrxml/signatures.html'>Signatures</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/annotations.html'>Annotations</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/configuration/fluent.html'>Fluent Configuration</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../../../documentation/server/integration/index.html'>Integrating with&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../documentation/server/integration/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/integration/spring.html'>Spring</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/integration/hibernate.html'>Hibernate</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/integration/jsf.html'>JSF</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/integration/guice.html'>Guice</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/integration/struts.html'>Struts</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/integration/jaxer.html'>Aptana Jaxer</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/integration/pageflow.html'>Pageflow / Beehive</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../../../documentation/server/environment.html'>Supported Environments</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/logging.html'>Logging</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/javaapi.html'>Accessing Servlet Objects</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/generic.html'>Reading from other URLs</a></li>
<li class='noChildren'><a href='../../../../../documentation/server/script_compression.html'>Script Compression</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../../../documentation/reverse-ajax/index.html'>Reverse Ajax&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../documentation/reverse-ajax/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../documentation/reverse-ajax/getting-started.html'>Getting Started</a></li>
<li class='noChildren'><a href='../../../../../documentation/reverse-ajax/configuration.html'>Configuring</a></li>
<li class='noChildren'><a href='../../../../../documentation/reverse-ajax/retry.html'>Error/Retry Logic</a></li>
<li class='noChildren'><a href='../../../../../documentation/reverse-ajax/hints-and-tips.html'>Hints and Tips</a></li>
<li class='noChildren'><a href='../../../../../documentation/reverse-ajax/load-monitors.html'>Load Monitors</a></li>
<li class='noChildren'><a href='../../../../../documentation/reverse-ajax/threads.html'>Non-Web Threads</a></li>
</ul>
</li>
</ul>
</li>
<li class='hasChildren'><a href='../../../../../security/index.html'>Security&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../security/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../security/script-tag-protection.html'>JavaScript Security</a></li>
<li class='noChildren'><a href='../../../../../security/allowGetForSafariButMakeForgeryEasier.html'>Safari, GET and CSRF</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../../../support/index.html'>Support&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../support/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../support/common_problems.html'>Common Problems</a></li>
<li class='noChildren'><a href='../../../../../support/faqs.html'>Common Questions</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../../../development/index.html'>Development&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../development/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../../../development/contributor/index.html'>Contributors&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../../../development/contributor/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../../../development/contributor/contract.html'>The Maintainer Contract</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../../../development/ccla.html'>CLA for Corporations</a></li>
<li class='noChildren'><a href='../../../../../development/icla.html'>CLA for Individuals</a></li>
</ul>
</li>
</ul></div>
</body>
</html>

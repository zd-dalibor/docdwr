<!DOCTYPE html>
<html>
<head>
  <title>Table Manipulation</title>
  <meta name='alias' content='/dwr/browser/util/tables'>
  <link rel="stylesheet" type="text/css" href="../../../media/styles.css">
  <link rel='shortcut icon' type='image/x-icon' href='../../../favicon.ico'>
  <script type='text/javascript' src='../../../media/dojo.js'> </script>
  <script type='text/javascript' src='../../../media/menu.js'> </script>
</head>
<body>
<div id='header'><a href='../../../index.html'>Direct Web Remoting</a></div>
<div id=pagelinks>
<div class='navlinks'>[ 
<a href='../../../index.html' title='Easy Ajax for Java'>DWR</a> | 
 ]
<form method='GET' action='https://www.google.com/search' id='search-form'>
<span id='search'>
<input class='form-text' type='text' id='search-box' name='as_q' size='20' maxlength='255'>
<input type='hidden' name='as_sitesearch' value='directwebremoting.org'/>
<input class='form-submit' type='submit' value='Google'/>
</span>
</form>
</div>
<div id='breadcrumbs'><a href='../../../index.html'>DWR - Easy Ajax for JAVA</a> &#x00BB; <a href='../../../documentation/index.html'>Documentation</a> &#x00BB; <a href='../../../documentation/browser/index.html'>Client Side</a> &#x00BB; <a href='../../../documentation/browser/util/index.html'>util.js</a> &#x00BB; <a href='tables.html' class='currentLink'>Table Manipulation</a></div></div>
<div id='content'>

<script type='text/javascript' src='../../../media/util.js'> </script>

<h1>util.js: Tables Manipulation</h1>

<p>DWR helps you to manipulate tables using 2 functions: <code>dwr.util.addRows()</code> and <code>dwr.util.removeAllRows()</code>. The first parameter to both is the id of the table, tbody, thead or tfoot to edit. Generally it makes sense to use tbody because it enables you to keep header and footer rows unaltered, and it is a neat work-around to some hard to track-down Internet Explorer bugs.</p>

<p>For details in the individual function calls, see the pages for <a href="removeAllRows.html">removeAllRows()</a> and <a href="addRows.html">addRows()</a>.</p>

<h2>Demo</h2>

<p>For simplicity in this demo we will be using a simple array of strings, but you can have anything in your array. It's most powerful when used with an array of objects.</p>

<p>For demo purposes, we have a table with a tbody element with <code>id="demo1"</code>:</p>

<table border="1">
<thead>
<tr>

<th>Unaltered</th>
<th>Altered</th>
<th>Button</th>
<th>Count</th>

</tr>
</thead>
<tbody id="demo1"> </tbody>
</table>

<script type='text/javascript'>
var cellFuncs = [
  function(data) { return data; },
  function(data) { return data.toUpperCase(); },
  function(data) {
    return "<input type='button' value='Test' onclick='alert(\"Hi\");'/>";
  },
  function(data) { return count++; }
];

function doAddRows1() {
  var count = 1;
  dwr.util.addRows("demo1", eval(dwr.util.getValue("simple")), cellFuncs, { escapeHtml:false });
}
</script>

<pre>
var cellFuncs = [
  function(data) { return data; },
  function(data) { return data.toUpperCase(); },
  function(data) {
    return "&lt;input type='button' value='Test' onclick='alert(\"Hi\");'/&gt;";
  },
  function(data) { return count++; }
];

var count = 1;
dwr.util.addRows( "demo1", <input id="simple" type="text" value="[ 'Africa', 'America', 'Asia', 'Australasia', 'Europe' ]" size="30"/>, cellFuncs, { <a href='escapeHtml.html'>escapeHtml:false</a> });
<input type="button" onclick="doAddRows1()" value="Execute"/>
</pre>

<pre>
dwr.util.removeAllRows('demo1');
<input type="button" onclick="dwr.util.removeAllRows('demo1')" value="Execute"/>
</pre>

<p>The cellFuncs can return either an HTML string, or a DOM object to populate more complex controls. Generally HTML strings are a better choice because creating them is more compact, and it's a great workaround to some Internet Explorer bugs. However if a pure XHTML model ever becomes more predominant, DOM manipulation may become required.</p>

<h5>Advanced Options</h5>

<p>The options object is new in DWR version 1.1</p>

<p>We can use the options object to pass a cell creator function or a row creator function.</p>

<p>By default DWR provides these creator functions for you. They look something like this:</p>

<pre>
function defaultRowCreator(options) {
  return document.createElement("tr");
};

function defaultCellCreator(options) {
  return document.createElement("td");
};
</pre>

<p>The options object passed to you by DWR is the same options object that you passed in originally (containing the rowCreator and cellCreator functions). The following fields will have been altered:</p>

<ul>
<li><b>rowData</b>: the element value from the array (the same for all cells in a row)</li>
<li><b>rowIndex</b>: the key (if map) or index (if array) from the collection</li>
<li><b>rowNum</b>: The row number counting from 0 in this section (so if you are using tbody, it counts rows in the tbody and not the whole table)</li>
<li><b>data</b>: The 'computed' data value for the cell (cellCreators only)</li>
<li><b>cellNum</b>: The cell number that we are altering counting from 0 (cellCreators only)</li>
</ul>

<p>But you can provide your own versions like this:</p>

<table border="1">
<thead>
<tr>

<th>Unaltered</th>
<th>Altered</th>
<th>Button</th>
<th>Count</th>

</tr>
</thead>
<tbody id="demo2"> </tbody>
</table>

<script type='text/javascript'>
var count = 1;
function doAddRows2() {
  var count = 1;
  dwr.util.addRows("demo2", eval(dwr.util.getValue("simple")), cellFuncs, {
    rowCreator:function(options) {
      var row = document.createElement("tr");
      var index = options.rowIndex * 50;
      row.style.color = "rgb(" + index + ",0,0)";
      return row;
    },
    cellCreator:function(options) {
      var td = document.createElement("td");
      var index = 255 - (options.rowIndex * 50);
      td.style.backgroundColor = "rgb(" + index + ",255,255)";
      td.style.fontWeight = "bold";
      return td;
    },
    escapeHtml:false
  });
}
</script>

<pre>
dwr.util.addRows("demo2", <input id="simple" type="text" value="[ 'Africa', 'America', 'Asia', 'Australasia', 'Europe' ]" size="30"/>, cellFuncs, {
  rowCreator:function(options) {
    var row = document.createElement("tr");
    var index = options.rowIndex * 50;
    row.style.color = "rgb(" + index + ",0,0)";
    return row;
  },
  cellCreator:function(options) {
    var td = document.createElement("td");
    var index = 255 - (options.rowIndex * 50);
    td.style.backgroundColor = "rgb(" + index + ",255,255)";
    td.style.fontWeight = "bold";
    return td;
  },
  <a href='escapeHtml.html'>escapeHtml:false</a>
});
<input type="button" onclick="doAddRows2()" value="Execute"/>
</pre>

<pre>
dwr.util.removeAllRows('demo2');
<input type="button" onclick="dwr.util.removeAllRows('demo2')" value="Execute"/>
</pre>

</div>
<div class='menu'>
<ul id='nav'>
<li class='noChildren'><a href='../../../index.html'>Home</a></li>
<li class='hasChildren'><a href='../../../introduction/index.html'>Overview&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../introduction/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../introduction/getting-started.html'>Quick Start</a></li>
<li class='noChildren'><a href='../../../introduction/remoting_options.html'>Remoting Options</a></li>
<li class='noChildren'><a href='../../../introduction/scripting-dwr.html'>Scripting DWR</a></li>
<li class='noChildren'><a href='../../../introduction/tutorials.html'>Official Examples</a></li>
<li class='noChildren'><a href='../../../introduction/elsewhere.html'>Other Examples</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../downloads/index.html'>Download&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../downloads/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../downloads/ciBuilds.html'>CI Builds</a></li>
<li class='hasChildren'><a href='../../../downloads/changelog/index.html'>Change Log&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../downloads/changelog/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../downloads/changelog/dwr30.html'>New in v3.0</a></li>
<li class='noChildren'><a href='../../../downloads/changelog/dwr20.html'>New in v2.0</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../downloads/upgrading/index.html'>Upgrading DWR&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../downloads/upgrading/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../downloads/upgrading/dwr30.html'>Upgrading to Version 3.0</a></li>
<li class='noChildren'><a href='../../../downloads/upgrading/dwr20.html'>Upgrading to Version 2.0</a></li>
</ul>
</li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/index.html'>Documentation&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/browser/index.html'>Client Side&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/browser/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/browser/engine/index.html'>engine.js&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/browser/engine/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/batch.html'>Call Batching</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/ordering.html'>Call Ordering</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/hooks.html'>Remoting Hooks</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/options.html'>Remoting Options</a></li>
<li class='noChildren'><a href='../../../documentation/browser/engine/errors.html'>Timeouts</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/browser/util/index.html'>util.js&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/browser/util/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/lists.html'>List Manipulation</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/$.html'>$()</a></li>
<li class='noChildren'><a href='tables.html' class='currentLink'>Table Manipulation</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/addOptions.html'>addOptions</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/addRows.html'>addRows</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/byId.html'>byId()</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/escapeHtml.html'>escapeHtml</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/getText.html'>getText</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/getValue.html'>getValue</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/getValues.html'>getValues</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/onReturn.html'>onReturn</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/removeAllOptions.html'>removeAllOptions</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/removeAllRows.html'>removeAllRows</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/selectRange.html'>selectRange</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/setValue.html'>setValue</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/setValues.html'>setValues</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/toDescriptiveString.html'>toDescriptiveString</a></li>
<li class='noChildren'><a href='../../../documentation/browser/util/useLoadingMessage.html'>useLoadingMessage</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../documentation/browser/xdomain.html'>Cross-domain Support</a></li>
<li class='noChildren'><a href='../../../documentation/browser/errors.html'>Error Handling</a></li>
<li class='noChildren'><a href='../../../documentation/browser/extra-data.html'>Callbacks and Scoping</a></li>
<li class='noChildren'><a href='../../../documentation/browser/support.html'>Browser Support</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/server/index.html'>Server Side&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/index.html'>Configuration&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/servlet/index.html'>WEB-INF Reference&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/servlet/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/servlet/multiconfig.html'>Multiple dwr.xml files</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/servlet/plugin.html'>Plug-ins</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/servlet/test.html'>Test Mode</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/dwrxml/index.html'>dwr.xml&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/index.html'>Converters&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/array.html'>Arrays</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/bean.html'>Beans / Objects</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/collection.html'>Collections</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/dom.html'>DOM Objects</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/enum.html'>Enum</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/converters/file.html'>Images and Binary Files</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/index.html'>Creators&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/new.html'>'New' Creator</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/scripted.html'>'Scripted' Creator</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/creators/static.html'>'Static' Creator</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/filters.html'>Filters</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/dwrxml/signatures.html'>Signatures</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../documentation/server/configuration/annotations.html'>Annotations</a></li>
<li class='noChildren'><a href='../../../documentation/server/configuration/fluent.html'>Fluent Configuration</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/server/integration/index.html'>Integrating with&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/server/integration/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/spring.html'>Spring</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/hibernate.html'>Hibernate</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/jsf.html'>JSF</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/guice.html'>Guice</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/struts.html'>Struts</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/jaxer.html'>Aptana Jaxer</a></li>
<li class='noChildren'><a href='../../../documentation/server/integration/pageflow.html'>Pageflow / Beehive</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../documentation/server/environment.html'>Supported Environments</a></li>
<li class='noChildren'><a href='../../../documentation/server/logging.html'>Logging</a></li>
<li class='noChildren'><a href='../../../documentation/server/javaapi.html'>Accessing Servlet Objects</a></li>
<li class='noChildren'><a href='../../../documentation/server/generic.html'>Reading from other URLs</a></li>
<li class='noChildren'><a href='../../../documentation/server/script_compression.html'>Script Compression</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../documentation/reverse-ajax/index.html'>Reverse Ajax&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/getting-started.html'>Getting Started</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/configuration.html'>Configuring</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/retry.html'>Error/Retry Logic</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/hints-and-tips.html'>Hints and Tips</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/load-monitors.html'>Load Monitors</a></li>
<li class='noChildren'><a href='../../../documentation/reverse-ajax/threads.html'>Non-Web Threads</a></li>
</ul>
</li>
</ul>
</li>
<li class='hasChildren'><a href='../../../security/index.html'>Security&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../security/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../security/script-tag-protection.html'>JavaScript Security</a></li>
<li class='noChildren'><a href='../../../security/allowGetForSafariButMakeForgeryEasier.html'>Safari, GET and CSRF</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../support/index.html'>Support&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../support/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../support/common_problems.html'>Common Problems</a></li>
<li class='noChildren'><a href='../../../support/faqs.html'>Common Questions</a></li>
</ul>
</li>
<li class='hasChildren'><a href='../../../development/index.html'>Development&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../development/index.html'>Index</a></li>
<li class='hasChildren'><a href='../../../development/contributor/index.html'>Contributors&nbsp;...</a><ul>
<li class='noChildren'><a href='../../../development/contributor/index.html'>Index</a></li>
<li class='noChildren'><a href='../../../development/contributor/contract.html'>The Maintainer Contract</a></li>
</ul>
</li>
<li class='noChildren'><a href='../../../development/ccla.html'>CLA for Corporations</a></li>
<li class='noChildren'><a href='../../../development/icla.html'>CLA for Individuals</a></li>
</ul>
</li>
</ul></div>
</body>
</html>
